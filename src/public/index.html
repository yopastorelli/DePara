<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DePara - Gerenciador de Arquivos e Opera√ß√µes</title>
    
    <!-- Favicon e Manifest -->
    <link rel="icon" type="image/x-icon" href="/favicon/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="manifest" href="/favicon/site.webmanifest">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
    <!-- Fallback para Material Icons -->
    <style>
        /* Fallback para √≠cones Material Icons */
        .material-icons {
            font-family: 'Material Icons', 'Arial', sans-serif;
            font-weight: normal;
            font-style: normal;
            font-size: 24px;
            line-height: 1;
            letter-spacing: normal;
            text-transform: none;
            display: inline-block;
            white-space: nowrap;
            word-wrap: normal;
            direction: ltr;
            -webkit-font-feature-settings: 'liga';
            -webkit-font-smoothing: antialiased;
        }
        
        /* Fallback para quando Material Icons n√£o carregam */
        .material-icons[data-fallback]:before {
            content: attr(data-fallback);
            font-family: Arial, sans-serif;
            font-size: 18px;
            font-weight: bold;
        }
        
        /* Esconder texto original quando fallback est√° ativo */
        .material-icons[data-fallback] {
            font-size: 0;
        }
        
        .material-icons[data-fallback]:before {
            font-size: 18px;
        }
    </style>
    
    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Splash Screen -->
    <div id="splash-screen" class="splash-screen">
        <div class="splash-content">
            <div class="splash-logo">
                <img src="/logos/depara_logo_stacked.svg" alt="DePara" class="splash-logo-image">
            </div>
            <div class="splash-text">
                <h1>DePara</h1>
                <p>Gerenciador de Arquivos e Opera√ß√µes</p>
                <div class="splash-subtitle">mover ‚Ä¢ copiar ‚Ä¢ apagar</div>
            </div>
            <div class="splash-loader">
                <div class="loader-spinner"></div>
                <p>Carregando...</p>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <img src="/logos/depara_logo_horizontal.svg" alt="DePara" class="logo-image">
            </div>
            <nav class="nav">
                <button class="nav-btn active" data-tab="dashboard">
                    <span class="material-icons">dashboard</span>
                    Dashboard
                </button>
                <button class="nav-btn" data-tab="fileops">
                    <span class="material-icons">folder_copy</span>
                    Opera√ß√µes de Arquivos
                </button>
                <button class="nav-btn" data-tab="scheduled">
                    <span class="material-icons">schedule</span>
                    Opera√ß√µes Agendadas
                </button>
                <button class="nav-btn" data-tab="backups">
                    <span class="material-icons">backup</span>
                    Backups
                </button>
                <button class="nav-btn" data-tab="settings">
                    <span class="material-icons">settings</span>
                    Configura√ß√µes
                </button>
            </nav>
            <div class="header-actions">
                <button class="tray-btn" id="tray-btn" title="Minimizar para System Tray">
                    <span class="material-icons">minimize</span>
                </button>
                <button class="help-btn help-tutorial-btn" title="Ajuda e Tutorial">
                    <span class="material-icons">help</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Sistema de Onboarding -->
    <div id="onboarding-overlay" class="onboarding-overlay" style="display: none;">
        <div class="onboarding-content">
            <div class="onboarding-header">
                <h2>Bem-vindo ao DePara! üéâ</h2>
                <p>Vamos configurar seu primeiro fluxo de trabalho em 4 passos simples</p>
            </div>
            
            <div class="onboarding-steps">
                <div class="step active" data-step="1">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>Pastas de Origem e Destino</h3>
                        <p>Defina de onde v√™m os arquivos e para onde devem ir</p>
                        <div class="step-example">
                            <strong>Exemplo:</strong> De "/dados/entrada" para "/dados/processados"
                        </div>
                    </div>
                </div>
                
                <div class="step" data-step="2">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>A√ß√£o e Frequ√™ncia</h3>
                        <p>Escolha se quer mover, copiar e com que frequ√™ncia</p>
                        <div class="step-example">
                            <strong>Exemplo:</strong> Copiar arquivos a cada 5 minutos
                        </div>
                    </div>
                </div>
                
                <div class="step" data-step="3">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>Filtros e Transforma√ß√µes</h3>
                        <p>Configure quais arquivos processar e como transform√°-los</p>
                        <div class="step-example">
                            <strong>Exemplo:</strong> Apenas arquivos CSV com valida√ß√£o
                        </div>
                    </div>
                </div>
                
                <div class="step" data-step="4">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h3>Limpeza e Manuten√ß√£o</h3>
                        <p>Configure limpeza autom√°tica e backup</p>
                        <div class="step-example">
                            <strong>Exemplo:</strong> Mover arquivos antigos para lixeira semanalmente
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="onboarding-actions">
                <button class="btn btn-secondary onboarding-close-btn">‚ùå Fechar Tutorial</button>
                <button class="btn btn-outline onboarding-skip-btn">‚è≠Ô∏è Pular Tutorial</button>
                <button class="btn btn-primary onboarding-quick-btn">üöÄ Configura√ß√£o R√°pida</button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main">
        <!-- Dashboard Tab -->
        <div id="dashboard" class="tab-content active">
            <div class="dashboard-grid">
                <!-- Status Card -->
                <div class="card status-card">
                    <div class="card-header">
                        <h3>Status do Sistema</h3>
                        <span class="status-indicator online"></span>
                    </div>
                    <div class="card-content">
                        <div class="status-item">
                            <span class="material-icons">memory</span>
                            <div>
                                <span class="label">Mem√≥ria</span>
                                <span class="value" id="memory-usage">--</span>
                            </div>
                        </div>
                        <div class="status-item">
                            <span class="material-icons">storage</span>
                            <div>
                                <span class="label">Disco</span>
                                <span class="value" id="disk-usage">--</span>
                            </div>
                        </div>
                        <div class="status-item">
                            <span class="material-icons">schedule</span>
                            <div>
                                <span class="label">Opera√ß√µes Ativas</span>
                                <span class="value" id="active-ops">--</span>
                            </div>
                        </div>
                        <div class="status-item">
                            <span class="material-icons" id="api-status-icon">api</span>
                            <div>
                                <span class="label">API</span>
                                <span class="value" id="api-status">Testando...</span>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- Usage Chart Card -->
                <div class="card chart-card">
                    <div class="card-header">
                        <h3>Uso do Sistema</h3>
                        <span class="material-icons refresh-icon refresh-charts-btn" title="Atualizar">refresh</span>
                    </div>
                    <div class="card-content">
                        <div class="chart-container">
                            <canvas id="usage-chart" width="300" height="150"></canvas>
                        </div>
                        <div class="chart-legend">
                            <div class="legend-item">
                                <span class="legend-color operations"></span>
                                <span>Opera√ß√µes</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-color memory"></span>
                                <span>Mem√≥ria (%)</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-color disk"></span>
                                <span>Disco (%)</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity Card -->
                <div class="card activity-card">
                    <div class="card-header">
                        <h3>Atividade Recente</h3>
                    </div>
                    <div class="card-content">
                        <div id="recent-activity" class="activity-list">
                            <div class="activity-item">
                                <span class="material-icons">info</span>
                                <span>Nenhuma atividade recente</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Scheduled Operations Tab -->
        <div id="scheduled" class="tab-content">
            <div class="scheduled-container">
                <div class="scheduled-header">
                    <h2>Opera√ß√µes Agendadas</h2>
                    <p>Gerencie todas as opera√ß√µes programadas para execu√ß√£o autom√°tica</p>

                    <!-- Barra de busca -->
                    <div class="search-container">
                        <div class="search-input-container">
                            <span class="material-icons search-icon">search</span>
                            <input type="text" id="scheduled-search" placeholder="Buscar opera√ß√µes..."
                                   class="filter-scheduled-input">
                            <button class="clear-search clear-search-btn" style="display: none;">
                                <span class="material-icons">clear</span>
                            </button>
                        </div>
                        <button class="btn btn-primary schedule-modal-btn">
                            <span class="material-icons">add</span>
                            Nova Opera√ß√£o
                        </button>
                    </div>
                </div>

                <!-- Progress Section -->
                <div class="progress-section">
                    <h3>Opera√ß√µes em Andamento</h3>
                    <div class="progress-list" id="progress-list">
                        <!-- Opera√ß√µes em andamento ser√£o mostradas aqui -->
                    </div>
                </div>

                <div class="operations-list" id="scheduled-operations-list">
                    <!-- Opera√ß√µes agendadas ser√£o carregadas dinamicamente -->
                </div>
            </div>
        </div>

        <!-- Backups Tab -->
        <div id="backups" class="tab-content">
            <div class="backups-container">
                <div class="backups-header">
                    <h2>Sistema de Backups</h2>
                    <p>Gerencie backups autom√°ticos e restaure arquivos quando necess√°rio</p>
                    <button class="btn btn-secondary load-backups-btn">
                        <span class="material-icons">refresh</span>
                        Atualizar
                    </button>
                </div>

                <!-- Backup Configuration -->
                <div class="backup-config">
                    <h3>Configura√ß√µes de Backup</h3>
                    <div class="config-form">
                        <div class="form-group">
                            <label>Diret√≥rio de Backup:</label>
                            <input type="text" id="backup-dir" placeholder="/caminho/backups">
                        </div>
                        <div class="form-group">
                            <label>Reten√ß√£o (dias):</label>
                            <input type="number" id="retention-days" value="30" min="1" max="365">
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="backup-enabled" checked>
                                Backup autom√°tico habilitado
                            </label>
                        </div>
                        <button class="btn btn-primary update-backup-btn">
                            Salvar Configura√ß√µes
                        </button>
                    </div>
                </div>

                <!-- Backup List -->
                <div class="backups-list" id="backups-list">
                    <!-- Backups ser√£o carregados dinamicamente -->
                </div>
            </div>
        </div>

        <!-- File Operations Tab -->
        <div id="fileops" class="tab-content">
            <div class="fileops-container">
                <h2>Opera√ß√µes de Arquivos</h2>

                <!-- Drag & Drop Zone -->
                <div id="operation-config-zone" class="operation-config-zone">
                                            <div class="config-zone-content">
                            <span class="material-icons config-icon">settings</span>
                            <h3>Configurar Opera√ß√£o de Arquivos</h3>
                            <p>Selecione uma pasta de origem e configure a opera√ß√£o desejada</p>

                            <!-- Info sobre arquivos ignorados -->
                            <div class="ignored-files-info">
                                <span class="material-icons">info</span>
                                <small>Arquivos do sistema (Resilio Sync, tempor√°rios, etc.) s√£o automaticamente ignorados</small>
                            </div>

                        <div class="config-form">
                            <div class="form-group">
                                <label for="source-folder-path">Pasta de Origem:</label>
                                <div class="input-group">
                                    <input type="text" id="source-folder-path" placeholder="/home/user/Documents" readonly>
                                    <button class="btn btn-outline select-folder-btn">
                                        <span class="material-icons">folder_open</span>
                                        Selecionar Pasta
                                    </button>
                                </div>

                                <!-- Lista de pastas sugeridas -->
                                <div class="folder-suggestions">
                                    <label>Pastas comuns:</label>
                                    <div class="suggestion-buttons">
                                        <button class="btn btn-sm suggestion-btn" data-path="dynamic-home">~</button>
                                        <button class="btn btn-sm suggestion-btn" data-path="dynamic-documents">Documents</button>
                                        <button class="btn btn-sm suggestion-btn" data-path="dynamic-downloads">Downloads</button>
                                        <button class="btn btn-sm suggestion-btn" data-path="dynamic-pictures">Pictures</button>
                                        <button class="btn btn-sm suggestion-btn" data-path="dynamic-desktop">Desktop</button>
                                        <button class="btn btn-sm suggestion-btn" data-path="/media">/media</button>
                                        <button class="btn btn-sm suggestion-btn" data-path="/mnt">/mnt</button>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Opera√ß√£o:</label>
                                <div class="operation-buttons">
                                    <button class="btn operation-btn move-btn" data-operation="move">
                                        <span class="material-icons">drive_file_move</span>
                                        Mover
                                    </button>
                                    <button class="btn operation-btn copy-btn" data-operation="copy">
                                        <span class="material-icons">content_copy</span>
                                        Copiar
                                    </button>
                                    <button class="btn operation-btn delete-btn" data-operation="delete">
                                        <span class="material-icons">delete_forever</span>
                                        Apagar
                                    </button>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="target-folder-path">Destino:</label>
                                <div class="input-group">
                                    <input type="text" id="target-folder-path" placeholder="/home/user/Backup" required>
                                    <button class="btn btn-outline select-target-btn">
                                        <span class="material-icons">folder_open</span>
                                        Selecionar
                                    </button>
                                </div>
                                <small class="form-help" id="target-help">
                                    Selecione a pasta de destino (obrigat√≥rio para mover/copiar)
                                </small>
                            </div>

                            <div class="form-actions">
                                <button class="btn btn-secondary execute-now-btn">
                                    <span class="material-icons">play_arrow</span>
                                    Executar Agora
                                </button>
                                <button class="btn btn-primary schedule-btn">
                                    <span class="material-icons">schedule</span>
                                    Agendar Opera√ß√£o
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                        <!-- Preview ser√° mostrado aqui -->
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="fileops-actions">
                    <div class="action-cards">
                        <div class="action-card action-slideshow-card" onclick="if(window.deParaUI) window.deParaUI.showSlideshowModal(); else showSlideshowModal();">
                            <span class="material-icons">slideshow</span>
                            <h3>Slideshow</h3>
                            <p>Visualize imagens em slideshow</p>
                        </div>
                    </div>
                </div>


            </div>
        </div>



        <!-- Settings Tab -->
        <div id="settings" class="tab-content">
            <div class="settings-container">
                <h2>Configura√ß√µes do Sistema</h2>

                <!-- Gerenciamento de Pastas -->
                <div class="folders-management-section">
                    <h3>üìÅ Gerenciamento de Pastas</h3>
                    <p>Configure e gerencie as pastas do sistema</p>

                    <div class="folder-actions">
                        <button class="btn btn-primary folder-manager-btn">
                            <span class="material-icons">create_new_folder</span>
                            Gerenciar Pastas
                        </button>
                        <button class="btn btn-secondary refresh-folders-btn">
                            <span class="material-icons">refresh</span>
                            Atualizar Lista
                        </button>
                    </div>
                </div>

                <!-- Lista de Pastas Configuradas -->
                <div class="folders-list-section">
                    <h3>üìÅ Pastas Configuradas</h3>
                    <div id="folders-list" class="folders-list">
                        <!-- Pastas ser√£o carregadas dinamicamente -->
                        <div class="empty-state">
                            <span class="material-icons">folder_open</span>
                            <p>Nenhuma pasta configurada</p>
                            <small>Use a configura√ß√£o r√°pida acima ou crie manualmente</small>
                        </div>
                    </div>
                </div>


                <!-- Configura√ß√µes do Sistema -->
                <div class="system-settings">
                    <h3>‚öôÔ∏è Configura√ß√µes do Sistema</h3>
                    <div class="settings-form">
                        <div class="form-group">
                            <label>N√≠vel de Log</label>
                            <select id="log-level">
                                <option value="error">Erro</option>
                                <option value="warn">Aviso</option>
                                <option value="info" selected>Informa√ß√£o</option>
                                <option value="debug">Debug</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Ambiente</label>
                            <select id="environment">
                                <option value="development">Desenvolvimento</option>
                                <option value="production" selected>Produ√ß√£o</option>
                            </select>
                        </div>
                        <button class="btn btn-primary save-settings-btn">
                            <span class="material-icons">save</span>
                            Salvar Configura√ß√µes
                        </button>
                    </div>
                </div>

                <!-- Sistema de Atualiza√ß√µes -->
                <div class="update-settings">
                    <h3>üîÑ Sistema de Atualiza√ß√µes</h3>
                    <div class="update-container">
                        <div class="update-status">
                            <div class="update-info">
                                <span class="material-icons">info</span>
                                <div class="update-details">
                                    <p id="update-status-text">Verificando atualiza√ß√µes...</p>
                                    <p id="update-version-text" class="update-version">Vers√£o: Carregando...</p>
                                </div>
                            </div>
                            <button class="btn btn-secondary" id="check-updates-btn">
                                <span class="material-icons">refresh</span>
                                Verificar Atualiza√ß√µes
                            </button>
                        </div>

                        <div class="update-actions" id="update-actions" style="display: none;">
                            <div class="update-available">
                                <span class="material-icons">system_update</span>
                                <div>
                                    <p id="update-message">Atualiza√ß√µes dispon√≠veis!</p>
                                    <p id="update-commits" class="update-commits"></p>
                                </div>
                            </div>
                            <div class="update-buttons">
                                <button class="btn btn-primary" id="apply-updates-btn">
                                    <span class="material-icons">download</span>
                                    Aplicar Atualiza√ß√µes
                                </button>
                                <button class="btn btn-secondary" id="restart-app-btn">
                                    <span class="material-icons">restart_alt</span>
                                    Reiniciar Aplica√ß√£o
                                </button>
                            </div>
                        </div>

                        <div class="update-settings-options">
                            <h4>Configura√ß√µes de Atualiza√ß√£o</h4>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="auto-check-updates" checked>
                                    Verificar atualiza√ß√µes automaticamente
                                </label>
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="auto-apply-updates">
                                    Aplicar atualiza√ß√µes automaticamente (recomendado apenas para desenvolvimento)
                                </label>
                            </div>
                            <div class="form-group">
                                <label>Frequ√™ncia de verifica√ß√£o</label>
                                <select id="update-check-frequency">
                                    <option value="daily">Diariamente</option>
                                    <option value="weekly" selected>Semanalmente</option>
                                    <option value="monthly">Mensalmente</option>
                                    <option value="manual">Manual</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Modal removido para simplifica√ß√£o -->
    <div id="workflow-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Configurar Novo Fluxo de Trabalho</h3>
                <button class="modal-close close-workflow-btn">
                    <span class="material-icons">close</span>
                </button>
            </div>
            
            <div class="modal-body">
                <!-- Etapa 1: Configura√ß√£o B√°sica -->
                <div class="wizard-step active" data-step="1">
                    <h4 class="step-title">
                        <span class="material-icons">workflow</span>
                        Configura√ß√£o B√°sica
                    </h4>
                    
                    <div class="form-group">
                        <label>Nome do Fluxo</label>
                        <input type="text" id="workflow-name" placeholder="Ex: Processamento de Dados CSV" 
                               class="validate-name-input" required>
                        <small class="form-help">Nome descritivo para identificar o fluxo</small>
                        <div class="validation-message" id="name-validation"></div>
                    </div>
                    
                    <div class="form-group">
                        <label>Descri√ß√£o</label>
                        <textarea id="workflow-description" placeholder="Descreva o que este fluxo faz..." rows="3"></textarea>
                        <small class="form-help">Descri√ß√£o opcional do fluxo de trabalho</small>
                    </div>
                </div>
                
                <!-- Etapa 2: Pastas de Origem e Destino -->
                <div class="wizard-step" data-step="2">
                    <h4 class="step-title">
                        <span class="material-icons">folder_shared</span>
                        Pastas de Origem e Destino
                    </h4>
                    
                    <div class="form-group">
                        <label>Pasta de Origem</label>
                        <select id="source-folder" class="source-folder-select" required>
                            <option value="">Selecione uma pasta de origem</option>
                            <!-- Op√ß√µes ser√£o carregadas dinamicamente -->
                        </select>
                        <small class="form-help" id="source-folder-help">Pasta onde os arquivos est√£o localizados</small>
                    </div>
                    
                    <div class="form-group">
                        <label>Pasta de Destino</label>
                        <select id="target-folder" class="target-folder-select" required>
                            <option value="">Selecione uma pasta de destino</option>
                            <!-- Op√ß√µes ser√£o carregadas dinamicamente -->
                        </select>
                        <small class="form-help" id="target-folder-help">Pasta para onde os arquivos ser√£o enviados</small>
                    </div>
                    
                    <div class="form-group">
                        <label>A√ß√£o com Arquivos</label>
                        <select id="file-action" class="file-action-select" required>
                            <option value="copy">üìã Copiar (manter original)</option>
                            <option value="move">üì§ Mover (remover original)</option>
                            <option value="copy_and_clean">üßπ Copiar e Limpar Original</option>
                        </select>
                        <small class="form-help" id="action-help">O que fazer com os arquivos originais</small>
                    </div>
                </div>
                
                <!-- Etapa 3: Frequ√™ncia e Agendamento -->
                <div class="wizard-step" data-step="3">
                    <h4 class="step-title">
                        <span class="material-icons">schedule</span>
                        Frequ√™ncia e Agendamento
                    </h4>
                    
                    <div class="form-group">
                        <label>Frequ√™ncia de Execu√ß√£o</label>
                        <select id="execution-frequency" class="execution-frequency-select" required>
                            <option value="realtime">‚ö° Tempo Real (Imediato)</option>
                            <option value="1min">‚è±Ô∏è A cada 1 minuto</option>
                            <option value="5min">‚è±Ô∏è A cada 5 minutos</option>
                            <option value="15min">‚è±Ô∏è A cada 15 minutos</option>
                            <option value="30min">‚è±Ô∏è A cada 30 minutos</option>
                            <option value="1hour">‚è∞ A cada 1 hora</option>
                            <option value="6hours">‚è∞ A cada 6 horas</option>
                            <option value="12hours">‚è∞ A cada 12 horas</option>
                            <option value="daily">üìÖ Di√°rio (00:00)</option>
                            <option value="weekly">üìÖ Semanal (Domingo 00:00)</option>
                            <option value="monthly">üìÖ Mensal (1¬∫ dia 00:00)</option>
                            <option value="custom">‚öôÔ∏è Personalizado (Cron)</option>
                        </select>
                        <small class="form-help">Com que frequ√™ncia executar o fluxo</small>
                    </div>
                    
                    <div class="form-group" id="cron-group" style="display: none;">
                        <label>Express√£o Cron Personalizada</label>
                        <input type="text" id="cron-expression" placeholder="*/5 * * * * (a cada 5 minutos)">
                        <small class="form-help">
                            <strong>Formato:</strong> minuto hora dia m√™s dia_semana<br>
                            <strong>Exemplos:</strong> */5 * * * * (5min) | 0 */2 * * * (2h) | 0 0 * * 0 (semanal)
                        </small>
                    </div>
                </div>
                
                <!-- Etapa 4: Filtros e Transforma√ß√µes -->
                <div class="wizard-step" data-step="4">
                    <h4 class="step-title">
                        <span class="material-icons">filter_list</span>
                        Filtros e Transforma√ß√µes
                    </h4>
                    
                    <div class="form-group">
                        <label>Tipo de Filtro</label>
                        <select id="filter-type" class="filter-type-select" required>
                            <option value="all">‚úÖ Todos os Arquivos</option>
                            <option value="new">üÜï Apenas Arquivos Novos</option>
                            <option value="modified">üìù Apenas Arquivos Modificados</option>
                            <option value="extension">üîç Por Extens√£o Espec√≠fica</option>
                            <option value="size">üìè Por Tamanho</option>
                            <option value="age">‚è∞ Por Idade do Arquivo</option>
                        </select>
                        <small class="form-help">Quais arquivos devem ser processados</small>
                    </div>
                    
                    <div class="form-group" id="extension-filter" style="display: none;">
                        <label>Extens√µes Permitidas</label>
                        <input type="text" id="allowed-extensions" placeholder="csv,json,xml (separadas por v√≠rgula)">
                        <small class="form-help">Liste as extens√µes que devem ser processadas</small>
                    </div>
                    
                    <div class="form-group" id="size-filter" style="display: none;">
                        <label>Tamanho M√≠nimo (MB)</label>
                        <input type="number" id="min-size" placeholder="0" min="0" step="0.1">
                        <small class="form-help">Arquivos menores que este valor ser√£o ignorados</small>
                    </div>
                    
                    <div class="form-group" id="age-filter" style="display: none;">
                        <label>Idade M√≠nima (horas)</label>
                        <input type="number" id="min-age" placeholder="0" min="0" step="0.1">
                        <small class="form-help">Arquivos mais novos que este valor ser√£o ignorados</small>
                    </div>
                    
                    <div class="form-group">
                        <label>Transforma√ß√µes</label>
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" id="transform-trim" checked>
                                <span>üßπ Remover Espa√ßos em Branco</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" id="transform-validate">
                                <span>‚úÖ Validar Dados</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" id="transform-uppercase" class="transform-uppercase-checkbox">
                                <span>üî† Converter para Mai√∫sculas</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" id="transform-lowercase" class="transform-lowercase-checkbox">
                                <span>üî§ Converter para Min√∫sculas</span>
                            </label>
                        </div>
                        <small class="form-help">Transforma√ß√µes que ser√£o aplicadas aos dados</small>
                    </div>
                </div>
                
                <!-- Etapa 5: Limpeza e Manuten√ß√£o -->
                <div class="wizard-step" data-step="5">
                    <h4 class="step-title">
                        <span class="material-icons">cleaning_services</span>
                        Limpeza e Manuten√ß√£o
                    </h4>
                    
                    <div class="form-group">
                        <label>Limpeza Autom√°tica</label>
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" id="auto-cleanup" class="auto-cleanup-checkbox">
                                <span>üóëÔ∏è Ativar limpeza autom√°tica</span>
                            </label>
                        </div>
                        <small class="form-help">Mover arquivos antigos para lixeira automaticamente</small>
                    </div>
                    
                    <div id="cleanup-options" style="display: none;">
                        <div class="form-group">
                            <label>Frequ√™ncia de Limpeza</label>
                            <select id="cleanup-frequency">
                                <option value="daily">üìÖ Di√°rio</option>
                                <option value="weekly">üìÖ Semanal</option>
                                <option value="monthly">üìÖ Mensal</option>
                                <option value="custom">‚öôÔ∏è Personalizado</option>
                            </select>
                            <small class="form-help">Com que frequ√™ncia executar a limpeza</small>
                        </div>
                        
                        <div class="form-group">
                            <label>Idade M√°xima dos Arquivos (dias)</label>
                            <input type="number" id="max-file-age" placeholder="30" min="1" value="30">
                            <small class="form-help">Arquivos mais antigos que este valor ser√£o movidos para lixeira</small>
                        </div>
                        
                        <div class="form-group">
                            <label>Pasta de Lixeira</label>
                            <select id="trash-folder">
                                <option value="system">üóëÔ∏è Lixeira do Sistema</option>
                                <option value="custom">üìÅ Pasta Personalizada</option>
                            </select>
                            <small class="form-help">Onde mover os arquivos antigos</small>
                        </div>
                        
                        <div class="form-group" id="custom-trash" style="display: none;">
                            <label>Caminho da Pasta de Lixeira</label>
                            <input type="text" id="custom-trash-path" placeholder="/home/usuario/lixeira">
                            <small class="form-help">Caminho completo para a pasta de lixeira personalizada</small>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Op√ß√µes de Processamento</label>
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" id="create-backup" checked>
                                <span>üíæ Criar Backup Antes de Processar</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" id="generate-logs" checked>
                                <span>üìù Gerar Logs de Processamento</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" id="notify-completion">
                                <span>üîî Notificar Conclus√£o</span>
                            </label>
                        </div>
                        <small class="form-help">A√ß√µes adicionais durante o processamento</small>
                    </div>
                </div>
                
                <!-- Etapa 6: Resumo e Confirma√ß√£o -->
                <div class="wizard-step" data-step="6">
                    <h4 class="step-title">
                        <span class="material-icons">preview</span>
                        Resumo e Confirma√ß√£o
                    </h4>
                    
                    <div class="form-group">
                        <label>Resumo do Fluxo de Trabalho</label>
                        <div id="workflow-summary" class="workflow-summary">
                            <!-- Resumo ser√° preenchido dinamicamente -->
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Status do Fluxo</label>
                        <select id="workflow-status">
                            <option value="active">üü¢ Ativo (executar imediatamente)</option>
                            <option value="paused">‚è∏Ô∏è Pausado (n√£o executar)</option>
                            <option value="draft">üìù Rascunho (salvar para edi√ß√£o posterior)</option>
                        </select>
                        <small class="form-help">Estado inicial do fluxo de trabalho</small>
                    </div>
                </div>
            </div>
            
            <!-- Navega√ß√£o do Wizard -->
            <div class="modal-footer">
                <div class="wizard-navigation">
                    <button class="btn btn-secondary" id="prev-step" style="display: none;">
                        <span class="material-icons">arrow_back</span>
                        Anterior
                    </button>
                    
                    <div class="step-indicators">
                        <span class="step-dot active" data-step="1"></span>
                        <span class="step-dot" data-step="2"></span>
                        <span class="step-dot" data-step="3"></span>
                        <span class="step-dot" data-step="4"></span>
                        <span class="step-dot" data-step="5"></span>
                        <span class="step-dot" data-step="6"></span>
                    </div>
                    
                    <button class="btn btn-primary" id="next-step">
                        Pr√≥ximo
                        <span class="material-icons">arrow_forward</span>
                    </button>
                    
                    <button class="btn btn-success" id="save-step" style="display: none;">
                        <span class="material-icons">save</span>
                        Salvar Fluxo
                    </button>
                </div>
                
                <button class="btn btn-secondary cancel-workflow-btn">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Modal de Gerenciamento de Pastas -->
    <div id="folder-manager-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Gerenciar Pastas</h3>
                <button class="modal-close close-folder-manager-btn">
                    <span class="material-icons">close</span>
                </button>
            </div>
            
            <div class="modal-body">
                <div class="form-group">
                    <label>Nome da Pasta</label>
                    <input type="text" id="folder-name" placeholder="Ex: Dados_Entrada" required>
                    <small class="form-help">Nome descritivo para identificar a pasta</small>
                </div>
                
                <div class="form-group">
                    <label>Caminho da Pasta</label>
                    <input type="text" id="folder-path" placeholder="/home/usuario/dados/entrada" required>
                    <small class="form-help">Caminho completo onde a pasta est√° localizada</small>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Tipo de Pasta</label>
                        <select id="folder-type" class="folder-type-select">
                            <option value="source">üì• Pasta de Origem</option>
                            <option value="target">üì§ Pasta de Destino</option>
                            <option value="temp">üóÇÔ∏è Pasta Tempor√°ria</option>
                            <option value="trash">üóëÔ∏è Pasta de Lixeira</option>
                        </select>
                        <small class="form-help" id="folder-type-help">Fun√ß√£o da pasta no sistema</small>
                    </div>
                    
                    <div class="form-group">
                        <label>Formato de Arquivo</label>
                        <select id="folder-format">
                            <option value="auto">üîç Detectar Automaticamente</option>
                            <option value="csv">üìä CSV</option>
                            <option value="json">üìã JSON</option>
                            <option value="xml">üìÑ XML</option>
                            <option value="yaml">‚öôÔ∏è YAML</option>
                            <option value="any">üìÅ Qualquer Formato</option>
                        </select>
                        <small class="form-help">Formato dos arquivos que ser√£o processados</small>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Descri√ß√£o</label>
                    <textarea id="folder-description" placeholder="Descreva o prop√≥sito desta pasta..." rows="3"></textarea>
                    <small class="form-help">Descri√ß√£o opcional da pasta</small>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="btn btn-secondary cancel-folder-manager-btn">Cancelar</button>
                <button class="btn btn-primary save-folder-btn">Salvar Pasta</button>
            </div>
        </div>
    </div>

    <!-- File Operation Modal -->
    <div id="file-operation-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="file-operation-title">Opera√ß√£o de Arquivo</h3>
                <button class="modal-close close-file-operation-btn">
                    <span class="material-icons">close</span>
                </button>
            </div>

            <div class="modal-body">
                <div class="form-group">
                    <label>Arquivo de Origem</label>
                    <input type="text" id="source-file-path" placeholder="/caminho/arquivo.txt" required>
                    <small class="form-help">Caminho completo do arquivo</small>
                </div>

                <div class="form-group" id="target-file-group">
                    <label>Arquivo de Destino</label>
                    <input type="text" id="target-file-path" placeholder="/caminho/destino.txt">
                    <small class="form-help">Caminho completo do destino</small>
                </div>

                <div class="form-group">
                    <label>Op√ß√µes</label>
                    <div class="checkbox-group">
                        <label class="checkbox-item">
                            <input type="checkbox" id="backup-before-operation" checked>
                            <span>üì¶ Criar backup antes da opera√ß√£o</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="overwrite-existing">
                            <span>‚ö†Ô∏è Sobrescrever se existir</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="preserve-structure" checked>
                            <span>üìÅ Preservar estrutura de pastas</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="recursive-operation">
                            <span>üîÑ Processar recursivamente</span>
                        </label>
                    </div>

                    <!-- Filtro de extens√µes -->
                    <div class="form-group" id="extensions-filter" style="display: none;">
                        <label for="file-extensions">Extens√µes de arquivo (separadas por v√≠rgula):</label>
                        <input type="text" id="file-extensions" placeholder="jpg,png,gif,pdf,txt" class="form-input">
                        <small class="form-help">
                            Deixe vazio para processar todos os arquivos. Exemplo: jpg,png,gif
                        </small>
                    </div>

                    <small class="form-help">
                        <strong>Preservar estrutura:</strong> Mant√©m a organiza√ß√£o de subpastas no destino<br>
                        <strong>Processar recursivamente:</strong> Inclui todas as subpastas na opera√ß√£o
                    </small>
                </div>
            </div>

            <div class="modal-footer">
                <button class="btn btn-secondary cancel-file-operation-btn">Cancelar</button>
                <button class="btn btn-primary execute-file-operation-btn">Executar</button>
            </div>
        </div>
    </div>

    <!-- Schedule Operation Modal -->
    <div id="schedule-modal" class="modal" style="display: none;">
        <div class="modal-content large-modal">
            <div class="modal-header">
                <h3>Agendar Opera√ß√£o</h3>
                <button class="modal-close close-schedule-btn">
                    <span class="material-icons">close</span>
                </button>
            </div>

            <div class="modal-body">
                <!-- Resumo da Opera√ß√£o -->
                <div class="operation-summary" id="operation-summary" style="display: none;">
                    <h4>üìã Resumo da Opera√ß√£o</h4>
                    <div class="summary-content">
                        <div class="summary-item">
                            <strong>A√ß√£o:</strong> <span id="summary-action">-</span>
                        </div>
                        <div class="summary-item">
                            <strong>Origem:</strong> <span id="summary-source">-</span>
                        </div>
                        <div class="summary-item">
                            <strong>Destino:</strong> <span id="summary-target">-</span>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Nome da Opera√ß√£o</label>
                    <input type="text" id="schedule-name" placeholder="Ex: Backup di√°rio" required>
                    <small class="form-help">Nome descritivo para identificar a opera√ß√£o</small>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>A√ß√£o</label>
                        <select id="schedule-action" class="schedule-action-select" required>
                            <option value="">Selecione uma a√ß√£o</option>
                            <option value="move">üì§ Mover</option>
                            <option value="copy">üìã Copiar</option>
                            <option value="delete">üóëÔ∏è Apagar</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Frequ√™ncia</label>
                        <select id="schedule-frequency" required>
                            <option value="">Selecione frequ√™ncia</option>
                            <option value="30s">‚è±Ô∏è 30 segundos</option>
                            <option value="1m">‚è±Ô∏è 1 minuto</option>
                            <option value="5m">‚è±Ô∏è 5 minutos</option>
                            <option value="15m">‚è±Ô∏è 15 minutos</option>
                            <option value="30m">‚è±Ô∏è 30 minutos</option>
                            <option value="1h">‚è∞ 1 hora</option>
                            <option value="6h">‚è∞ 6 horas</option>
                            <option value="12h">‚è∞ 12 horas</option>
                            <option value="1d" selected>üìÖ Diariamente</option>
                            <option value="1w">üìÖ Semanalmente</option>
                            <option value="1M">üìÖ Mensalmente</option>
                            <option value="on-startup">üöÄ Na inicializa√ß√£o</option>
                            <option value="manual">üë§ Manual (apenas quando solicitado)</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label>Caminho de Origem</label>
                    <div class="path-input-group">
                        <input type="text" id="schedule-source" placeholder="/origem" required>
                        <button type="button" class="btn btn-secondary btn-sm" id="browse-source-btn">
                            <span class="material-icons">folder_open</span>
                        </button>
                    </div>
                    <small class="form-help">Pasta ou arquivo de origem</small>
                </div>

                <div class="form-group" id="schedule-target-group">
                    <label>Caminho de Destino</label>
                    <div class="path-input-group">
                        <input type="text" id="schedule-target" placeholder="/destino">
                        <button type="button" class="btn btn-secondary btn-sm" id="browse-target-btn">
                            <span class="material-icons">folder_open</span>
                        </button>
                    </div>
                    <small class="form-help">Pasta ou arquivo de destino</small>
                </div>

                <div class="form-group">
                    <label>Filtros de Arquivos (opcional)</label>
                    <input type="text" id="schedule-filters" placeholder="*.jpg,*.png,*.pdf">
                    
                    <!-- Bot√µes de filtros r√°pidos -->
                    <div class="filter-buttons" style="margin-top: 8px;">
                        <button type="button" class="filter-btn" data-filter="*.jpg,*.png,*.gif,*.bmp">üñºÔ∏è Imagens</button>
                        <button type="button" class="filter-btn" data-filter="*.pdf,*.doc,*.docx">üìÑ Documentos</button>
                        <button type="button" class="filter-btn" data-filter="*.txt,*.csv,*.log">üìù Texto</button>
                        <button type="button" class="filter-btn" data-filter="*.mp4,*.avi,*.mkv">üé¨ V√≠deos</button>
                        <button type="button" class="filter-btn" data-filter="*.mp3,*.wav,*.flac">üéµ √Åudio</button>
                        <button type="button" class="filter-btn" data-filter="!*.tmp,!*.log,!*.bak">üö´ Excluir Temp</button>
                        <button type="button" class="filter-btn" data-filter="">üóÇÔ∏è Todos</button>
                    </div>
                    
                    <small class="form-help">
                        <strong>Exemplos:</strong><br>
                        ‚Ä¢ <code>*.jpg,*.png</code> - Apenas imagens<br>
                        ‚Ä¢ <code>*.pdf,*.doc</code> - Apenas documentos<br>
                        ‚Ä¢ <code>*.txt</code> - Apenas arquivos de texto<br>
                        ‚Ä¢ <code>!*.tmp,!*.log</code> - Excluir arquivos tempor√°rios<br>
                        ‚Ä¢ Deixe vazio para processar todos os arquivos
                    </small>
                </div>

                <div class="form-group">
                    <label>Op√ß√µes Adicionais</label>
                    <div class="checkbox-group">
                        <label class="checkbox-item">
                            <input type="checkbox" id="schedule-batch" checked>
                            <span>üìÅ Opera√ß√£o em lote (todos os arquivos da pasta)</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="schedule-backup">
                            <span>üíæ Criar backup</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="schedule-preserve-structure" checked>
                            <span>üèóÔ∏è Preservar estrutura de pastas</span>
                        </label>
                    </div>
                    <small class="form-help">
                        <strong>Preservar estrutura:</strong> Mant√©m a organiza√ß√£o de subpastas no destino
                    </small>
                </div>
            </div>

            <div class="modal-footer">
                <button class="btn btn-secondary cancel-schedule-btn">Cancelar</button>
                <button class="btn btn-primary schedule-operation-btn">Agendar</button>
            </div>
        </div>
    </div>

    <!-- Slideshow Modal -->
    <div id="slideshow-modal" class="slideshow-modal" style="display: none;">
        <div class="slideshow-overlay">
            <div class="slideshow-container">
                <!-- Imagem principal -->
                <div class="slideshow-image-container">
                    <img id="slideshow-image" class="slideshow-image" src="" alt="" style="display: none;">
                    <div id="slideshow-loading" class="slideshow-loading">
                        <div class="loading-spinner"></div>
                        <p>Carregando imagens...</p>
                    </div>
                    <div id="slideshow-error" class="slideshow-error" style="display: none;">
                        <span class="material-icons">error</span>
                        <p>Erro ao carregar imagem</p>
                    </div>
                </div>

                <!-- Controles -->
                <div class="slideshow-controls">
                    <button class="slideshow-btn" id="slideshow-prev">
                        <span class="material-icons">chevron_left</span>
                    </button>

                    <div class="slideshow-info">
                        <div class="slideshow-counter">
                            <span id="current-image">0</span> / <span id="total-images">0</span>
                        </div>
                        <div class="slideshow-filename" id="image-filename">-</div>
                    </div>

                    <button class="slideshow-btn" id="slideshow-next">
                        <span class="material-icons">chevron_right</span>
                    </button>
                </div>

                <!-- Bot√£o de fechar -->
                <button class="slideshow-close-btn close-slideshow-btn" title="Fechar (ESC)">
                    <span class="material-icons">close</span>
                </button>

                <!-- Indicadores de progresso -->
                <div class="slideshow-progress">
                    <div class="progress-bar" id="slideshow-progress-bar"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Sele√ß√£o de Pasta para Slideshow -->
    <div id="slideshow-folder-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Selecionar Pasta para Slideshow</h3>
                <button class="modal-close close-slideshow-folder-btn">
                    <span class="material-icons">close</span>
                </button>
            </div>

            <div class="modal-body">
                <div class="form-group">
                    <label>Caminho da Pasta:</label>
                    <input type="text" id="slideshow-folder-path" placeholder="/caminho/para/imagens"
                           required class="slideshow-folder-input">
                    <small class="form-help">Digite o caminho completo da pasta contendo as imagens</small>
                </div>

                <div class="form-group">
                    <label>Extens√µes de Arquivo:</label>
                    <div class="extension-selector">
                        <label><input type="checkbox" value="jpg" checked> JPG</label>
                        <label><input type="checkbox" value="jpeg" checked> JPEG</label>
                        <label><input type="checkbox" value="png" checked> PNG</label>
                        <label><input type="checkbox" value="gif" checked> GIF</label>
                        <label><input type="checkbox" value="bmp"> BMP</label>
                        <label><input type="checkbox" value="webp"> WebP</label>
                        <label><input type="checkbox" value="tiff"> TIFF</label>
                    </div>
                    <small class="form-help">Selecione os tipos de imagem a incluir</small>
                </div>

                <div class="form-group">
                    <label>Profundidade de Busca:</label>
                    <select id="slideshow-max-depth">
                        <option value="3">3 n√≠veis (padr√£o)</option>
                        <option value="5">5 n√≠veis</option>
                        <option value="10">10 n√≠veis</option>
                        <option value="unlimited">Ilimitado</option>
                    </select>
                    <small class="form-help">Profundidade m√°xima para buscar imagens em subpastas</small>
                </div>
            </div>

            <div class="modal-footer">
                <button class="btn btn-secondary cancel-slideshow-folder-btn">Cancelar</button>
                <button class="btn btn-primary start-slideshow-btn">Iniciar Slideshow</button>
            </div>
        </div>
    </div>

    <!-- Modal de Slideshow -->
    <div id="slideshow-config-modal" class="modal" style="display: none;">
        <div class="modal-content slideshow-modal-content">
            <div class="modal-header">
                <div class="modal-logo">
                    <img src="/logos/depara_logo_stacked.svg" alt="DePara" class="modal-logo-image">
                </div>
                <h3>Configurar Slideshow</h3>
                <button class="modal-close close-slideshow-config-btn" title="Fechar">
                    <span class="material-icons">close</span>
                </button>
            </div>

            <div class="modal-body">
                <!-- Seletor de Pasta -->
                <div class="slideshow-folder-selector">
                    <label for="slideshow-folder-path">Pasta com imagens:</label>
                    <div class="input-group">
                        <input type="text" id="slideshow-folder-path" placeholder="dynamic-pictures-placeholder" readonly>
                        <button class="btn btn-outline slideshow-browse-btn">
                            <span class="material-icons">folder_open</span>
                            Selecionar Pasta
                        </button>
                    </div>
                </div>

                <!-- Configura√ß√µes do Slideshow -->
                <div class="slideshow-settings">
                    <div class="setting-row">
                        <label for="slideshow-interval">Intervalo (segundos):</label>
                        <input type="number" id="slideshow-interval" value="3" min="1" max="60">
                        <small class="form-help">Tempo entre transi√ß√µes autom√°ticas (1-60 segundos)</small>
                    </div>

                    <div class="setting-row">
                        <label for="slideshow-random">
                            <input type="checkbox" id="slideshow-random">
                            Modo aleat√≥rio
                        </label>
                        <small class="form-help">Exibir imagens em ordem aleat√≥ria</small>
                    </div>

                    <div class="setting-row">
                        <label for="slideshow-preload">
                            <input type="checkbox" id="slideshow-preload" checked>
                            Pr√©-carregar pr√≥xima imagem
                        </label>
                        <small class="form-help">Carrega a pr√≥xima imagem em background para evitar lag</small>
                    </div>

                    <div class="setting-row">
                        <label for="slideshow-extensions">Extens√µes:</label>
                        <div class="extensions-list">
                            <label><input type="checkbox" value=".jpg" checked> JPG</label>
                            <label><input type="checkbox" value=".jpeg" checked> JPEG</label>
                            <label><input type="checkbox" value=".png" checked> PNG</label>
                            <label><input type="checkbox" value=".gif" checked> GIF</label>
                            <label><input type="checkbox" value=".bmp" checked> BMP</label>
                        </div>
                    </div>

                    <div class="setting-row">
                        <label for="slideshow-recursive">
                            <input type="checkbox" id="slideshow-recursive" checked>
                            Incluir subpastas
                        </label>
                    </div>
                </div>

                <!-- Configura√ß√µes de Pastas de Organiza√ß√£o -->
                <div class="slideshow-organization-settings">
                    <h4>Pastas de Organiza√ß√£o</h4>
                    
                    <div class="setting-row">
                        <label for="slideshow-deleted-folder">Pasta de Fotos Exclu√≠das:</label>
                        <div class="input-group">
                            <input type="text" id="slideshow-deleted-folder" placeholder="Caminho para fotos exclu√≠das">
                            <button class="btn btn-outline slideshow-browse-deleted-btn">
                                <span class="material-icons" data-fallback="üìÅ">folder_open</span>
                                Selecionar
                            </button>
                        </div>
                        <small class="form-help">Pasta onde as fotos apagadas ser√£o movidas</small>
                    </div>

                    <div class="setting-row">
                        <label for="slideshow-hidden-folder">Pasta de Fotos Ocultas:</label>
                        <div class="input-group">
                            <input type="text" id="slideshow-hidden-folder" placeholder="Caminho para fotos ocultas">
                            <button class="btn btn-outline slideshow-browse-hidden-btn">
                                <span class="material-icons" data-fallback="üìÅ">folder_open</span>
                                Selecionar
                            </button>
                        </div>
                        <small class="form-help">Pasta onde as fotos ocultas ser√£o movidas</small>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button class="btn btn-secondary slideshow-close-btn">Cancelar</button>
                <button class="btn btn-primary slideshow-start-btn">Iniciar Slideshow</button>
            </div>
        </div>
    </div>

    <!-- Modal de Exibi√ß√£o do Slideshow -->
    <div id="slideshow-viewer" class="slideshow-viewer" style="display: none;">
        <div class="slideshow-header">
            <div class="slideshow-info">
                <span id="slideshow-counter">1 / 0</span>
                <span id="slideshow-filename">Nenhuma imagem</span>
            </div>
            <div class="slideshow-controls">
                <button class="slideshow-btn slideshow-prev-btn" title="Anterior (‚Üê)">
                    <span class="material-icons">chevron_left</span>
                </button>
                <button class="slideshow-btn slideshow-play-pause-btn" title="Pausar/Reproduzir (Espa√ßo)">
                    <span class="material-icons">pause</span>
                </button>
                <button class="slideshow-btn slideshow-next-btn" title="Pr√≥ximo (‚Üí)">
                    <span class="material-icons">chevron_right</span>
                </button>
                <button class="slideshow-btn slideshow-close-viewer-btn" title="Fechar (ESC)">
                    <span class="material-icons">close</span>
                </button>
            </div>
            
            <!-- Bot√µes de Organiza√ß√£o (discretos) -->
            <div class="slideshow-organization-controls">
                <button class="slideshow-btn slideshow-delete-btn" title="Apagar foto (mover para pasta de exclu√≠das)">
                    <span class="material-icons">delete</span>
                </button>
                <button class="slideshow-btn slideshow-hide-btn" title="Ocultar foto (mover para pasta de ocultas)">
                    <span class="material-icons">visibility_off</span>
                </button>
            </div>
        </div>

        <div class="slideshow-content">
            <div class="slideshow-image-container">
                <img id="slideshow-image" src="" alt="Slideshow" style="display: none;">
                <div id="slideshow-loading" class="slideshow-loading">
                    <div class="spinner"></div>
                    <p>Carregando imagens...</p>
                </div>
                <div id="slideshow-error" class="slideshow-error" style="display: none;">
                    <span class="material-icons">error</span>
                    <p>Erro ao carregar imagem</p>
                </div>
            </div>
        </div>

        
        <!-- Rodap√© com caminho da imagem -->
        <div class="slideshow-footer">
            <div id="slideshow-path" class="slideshow-path">Caminho da imagem aparecer√° aqui</div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <script src="app.js"></script>
    
    <!-- Script para detectar carregamento de fontes Material Icons -->
    <script>
        // Detectar se Material Icons carregaram
        document.addEventListener('DOMContentLoaded', function() {
            // Aguardar um pouco para as fontes carregarem
            setTimeout(function() {
                const testIcon = document.createElement('span');
                testIcon.className = 'material-icons';
                testIcon.textContent = 'folder_open';
                testIcon.style.position = 'absolute';
                testIcon.style.left = '-9999px';
                testIcon.style.fontSize = '24px';
                document.body.appendChild(testIcon);
                
                const computedStyle = window.getComputedStyle(testIcon);
                const fontFamily = computedStyle.getPropertyValue('font-family');
                
                // Se a fonte n√£o carregou, aplicar fallbacks
                if (!fontFamily.includes('Material Icons') || fontFamily.includes('Arial')) {
                    console.log('‚ö†Ô∏è Material Icons n√£o carregaram, aplicando fallbacks');
                    
                    // Aplicar fallbacks a todos os √≠cones com data-fallback
                    const icons = document.querySelectorAll('.material-icons[data-fallback]');
                    icons.forEach(icon => {
                        icon.style.fontSize = '0';
                        icon.style.fontFamily = 'Arial, sans-serif';
                        console.log('üîÑ Aplicando fallback para √≠cone:', icon.textContent);
                    });
                } else {
                    console.log('‚úÖ Material Icons carregaram corretamente');
                    
                    // Remover fallbacks se Material Icons carregaram
                    const icons = document.querySelectorAll('.material-icons[data-fallback]');
                    icons.forEach(icon => {
                        icon.style.fontSize = '';
                        icon.style.fontFamily = '';
                    });
                }
                
                document.body.removeChild(testIcon);
            }, 2000);
        });
    </script>
</body>
</html>
